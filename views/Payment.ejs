<%- include('includes/header.ejs') %>
<main>
    <div class="payment-container">
        <h1>Book Train</h1>
        <p class="subtitle">Fill in all the details to reserve your seat</p>
        <div class="center-container">
            <form class="payment-form" id="bookingForm">
                <!-- User Details Section -->
                <div class="form-section">
                    <h2>User Details</h2>
                    <div class="form-group">
                        <label for="firstName">First Name</label>
                        <input type="text" id="firstName" placeholder="Enter your first name" required>
                    </div>
                    <div class="form-group">
                        <label for="lastName">Last Name</label>
                        <input type="text" id="lastName" placeholder="Enter your last name" required>
                    </div>
                    <div class="form-group">
                        <label for="phoneNumber">Phone Number</label>
                        <input type="tel" id="phoneNumber" placeholder="Enter your phone number" required>
                    </div>
                    <div class="form-group">
                        <label for="address">Address</label>
                        <input type="text" id="address" placeholder="Enter your address" required>
                    </div>
                </div>
    
                <!-- Dependent Details Section -->
                <label>
                    <input type="checkbox" id="bookForDependentsCheckbox">
                    Are you booking for dependents?
                </label>
            
                <!-- Dependents Section -->
                <div id="dependentsSection" style="display: none; margin-top: 1rem;">
                    <h3>Dependent Details</h3>
                    <ul id="dependentsList">
                        <% if (dependents && dependents.length > 0) { %>
                            <% dependents.forEach((dependent) => { %>
                                <li>
                                    <label>
                                        <input type="checkbox" name="dependentList" value="<%= dependent.PersonID %>">
                                        <%= dependent.Name %> (<%= dependent.Relationship %>)
                                    </label>
                                </li>
                            <% }); %>
                        <% } else { %>
                            <li>No dependents found.</li>
                        <% } %>
                    </ul>
                </div>
    
                <!-- Train Details Section -->
                <div class="form-section">
                    <h2>Train Details</h2>
                    <div class="form-group">
                        <label for="trainNumber">Train Number</label>
                        <input type="text" id="trainNumber" placeholder="Enter train number" required>
                    </div>
                    <div class="form-group">
                        <label for="seatNumber">Seat Number</label>
                        <input type="text" id="seatNumber" placeholder="Enter seat number" required>
                    </div>
                </div>
    
                <!-- Payment Section -->
                <div class="form-section">
                    <h2>Payment Details</h2>
                    <div class="form-group">
                        <label for="cardName">Cardholder Name</label>
                        <input type="text" id="cardName" placeholder="Name on Card" required>
                    </div>
                    <div class="form-group">
                        <label for="cardNumber">Card Number</label>
                        <input type="text" id="cardNumber" placeholder="XXXX-XXXX-XXXX-XXXX" required>
                    </div>
                    <div class="form-group">
                        <label for="expiryDate">Expiry Date</label>
                        <input type="month" id="expiryDate" required>
                    </div>
                    <div class="form-group">
                        <label for="cvv">CVV</label>
                        <input type="text" id="cvv" placeholder="123" required>
                    </div>
                </div>
    
                <!-- Submit Button -->
                <button type="submit" class="submit-btn">Pay Now</button>
            </form>
        </div>
    </div>    
</main>

<%- include('includes/footer.ejs') %>
<script src="payment.js"></script>
</body>
</html>
